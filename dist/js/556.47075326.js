"use strict";(self["webpackChunkscholarhub"]=self["webpackChunkscholarhub"]||[]).push([[556],{6556:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isWork,expression:"isWork"}],staticClass:"work"},[e("div",{staticClass:"work_left",attrs:{id:"mySelectBar"}},[e("div",{staticClass:"content-select-result"},[0!==t.total_hits?e("el-row",{attrs:{gutter:0}},[e("el-col",{attrs:{span:30}},[e("div",{staticClass:"grid-content bg-purple",staticStyle:{"margin-right":"50px"}},[e("el-row",[e("el-col",{staticStyle:{width:"90%","margin-left":"3px","margin-top":"60px"},attrs:{span:9}},[e("div",{class:1==t.searchBarFixed?"isFixed":""},[e("div",{staticClass:"square-buttons"},[e("div",{staticClass:"square-button",on:{click:function(e){return t.makeSure()}}},[e("i",{staticClass:"el-icon-search"})]),e("div",{staticClass:"square-button",on:{click:function(e){return t.cancel()}}},[e("i",{staticClass:"el-icon-close"})])])]),e("el-card",{ref:"ele",staticClass:"box-card",attrs:{id:"sideBars"}},["advance"!==t.mode?e("div",{staticClass:"publish-year sub-block"},[e("div",{staticClass:"check-box-title",staticStyle:{"margin-bottom":"10px"}},[e("span",{staticStyle:{color:"#303133"}},[t._v("发表年份")])]),e("div",{staticStyle:{"text-align":"left","font-size":"13px"}},[e("span",[t._v("范围：")]),e("div",{staticStyle:{"margin-top":"5px"}},[e("span",{staticClass:"year-input",staticStyle:{color:"#0274B3"}},[e("el-input",{staticStyle:{width:"35%","margin-right":"10px","margin-left":"5px","font-size":"13px"},attrs:{size:"mini"},model:{value:t.year[0],callback:function(e){t.$set(t.year,0,e)},expression:"year[0]"}}),t._v("  ~  "),e("el-input",{staticStyle:{width:"35%","margin-left":"4px","font-size":"13px"},attrs:{size:"mini"},model:{value:t.year[1],callback:function(e){t.$set(t.year,1,e)},expression:"year[1]"}})],1)])])]):t._e(),"advance"!==t.mode?e("el-divider"):t._e(),e("div",{staticClass:"publish-type sub-block"},[e("div",{staticClass:"check-box-title",staticStyle:{"margin-bottom":"15px"}},[e("span",[t._v("领域")])]),t._l(t.filteredFieldCounts,(function(s,a,i){return a&&(i<4||t.isExpanded0)?e("el-checkbox-group",{key:a,staticStyle:{"margin-bottom":"15px","text-align":"left"},model:{value:t.checkFieldList,callback:function(e){t.checkFieldList=e},expression:"checkFieldList"}},[e("el-checkbox",{attrs:{label:a}},[e("span",[t._v(t._s(t._f("ellipsis_25")(a))+" ("+t._s(s)+")")])])],1):t._e()})),e("el-button",{staticClass:"expand-button",on:{click:function(e){t.isExpanded0=!t.isExpanded0}}},[t.isExpanded0?e("i",{staticClass:"el-icon-arrow-up"}):e("i",{staticClass:"el-icon-arrow-down"})])],2),e("el-divider"),e("div",{staticClass:"publish-journal sub-block"},[e("div",{staticClass:"check-box-title",staticStyle:{"margin-bottom":"15px"}},[e("span",[t._v("语言")])]),t._l(t.languageCounts,(function(s,a,i){return t.languageMap[a]&&(i<5||t.isExpanded)?e("el-checkbox-group",{key:a,staticStyle:{"margin-bottom":"15px","text-align":"left"},model:{value:t.checkLanguageList,callback:function(e){t.checkLanguageList=e},expression:"checkLanguageList"}},[e("el-checkbox",{attrs:{label:a}},[e("span",[t._v(t._s(t._f("ellipsis_25")(t.languageMap[a]))+" ("+t._s(s)+")")])])],1):t._e()})),e("el-button",{staticClass:"expand-button",on:{click:function(e){t.isExpanded=!t.isExpanded}}},[t.isExpanded?e("i",{staticClass:"el-icon-arrow-up"}):e("i",{staticClass:"el-icon-arrow-down"})])],2)],1)],1),e("el-col",{staticStyle:{"margin-top":"50px"},attrs:{span:2}},[e("div",{attrs:{id:"chooseBar"}},[e("div",{class:1==t.searchBarFixed?"isFixed":""},[e("div",{staticStyle:{height:"48px"}})])])])],1)],1)])],1):t._e()],1)]),e("div",{staticClass:"work_right"},[e("div",{staticClass:"work_right_content"},[e("div",{staticClass:"content1"},[e("el-menu",{staticClass:"el-menu1-demo",attrs:{"default-active":"1",mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("论文")])],1),e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticStyle:{overflow:"scroll"},attrs:{"infinite-scroll-disabled":t.disabled}},[e("el-backtop",{staticStyle:{"z-index":"1000"},attrs:{bottom:70,right:70}},[e("div",{staticStyle:{height:"100%",width:"100%","background-color":"white","box-shadow":"6px 0 6px rgba(0,0,0, .12)","text-align":"center","line-height":"40px",color:"#0969da"}},[e("i",{staticClass:"el-icon-arrow-up"})])]),t._l(t.paperDatas_to.slice(t.begin0,t.end0),(function(t,s){return e("ExploreUnit",{key:s,attrs:{"paper-data":t}})})),t.loading?e("p",{staticStyle:{margin:"15px","font-size":"18px"}},[e("i",{staticClass:"el-icon-loading"}),t._v("加载中... ")]):t._e(),t.noMore?e("p",{staticStyle:{margin:"15px","font-size":"18px"}},[e("i",{staticClass:"el-icon-warning-outline"}),t._v("没有更多了")]):t._e()],2)],1)])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isWork,expression:"!isWork"}],staticClass:"scholar"},[e("div",{staticClass:"scholar_center"},[e("div",{staticClass:"scholar_center_content"},[e("div",{staticClass:"content2"},[e("el-menu",{staticClass:"el-menu2-demo",attrs:{"default-active":"1",mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("学者")])],1),e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticStyle:{overflow:"scroll"},attrs:{"infinite-scroll-disabled":t.disabled}},[e("el-backtop",{staticStyle:{"z-index":"1000"},attrs:{bottom:70,right:70}},[e("div",{staticStyle:{height:"100%",width:"100%","background-color":"#f3f5f7","box-shadow":"6px 0 6px rgba(0,0,0, .12)","text-align":"center","line-height":"40px",color:"#0969da"}},[t._v(" UP ")])]),t._l(t.authorDatas.slice(t.begin,t.end),(function(s,a){return e("ScholarUnit",{key:a,attrs:{"author-data":s},on:{"show-dialog":function(e){return t.showDialog(s)}}})})),t.loading?e("p",{staticStyle:{margin:"15px","font-size":"18px"}},[e("i",{staticClass:"el-icon-loading"}),t._v("加载中... ")]):t._e(),t.noMore?e("p",{staticStyle:{margin:"15px","font-size":"18px"}},[e("i",{staticClass:"el-icon-warning-outline"}),t._v("没有更多了")]):t._e()],2)],1)])])])])},i=[],o=(s(560),s(3429),s(8898)),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"explore-unit"},[e("div",{staticClass:"result-unit",on:{click:t.gotoArticle}},[e("div",{staticClass:"content-unit"},[t.paperData.highlight&&t.paperData.highlight.title?e("h1",{staticClass:"unit-title",domProps:{innerHTML:t._s(t.paperData.highlight.title[0])}}):e("h1",{staticClass:"unit-title"},[t._v(" "+t._s(this.paperData._source.title)+" ")]),e("div",{staticClass:"unit-author"},[e("i",{staticClass:"el-icon-user-solid"},[t._v("   "),t._l(t.paperData._source.authorships,(function(s,a){return e("span",{key:a},[t._v(" "+t._s(s.author.display_name)+"  "),a<t.paperData._source.authorships.length-1?e("span",[t._v(",  ")]):t._e()])}))],2)]),e("div",{staticClass:"unit-preview"},[t._v(" 论文摘要："+t._s(this.abstract)+" ")]),e("div",{staticClass:"unit-periodical"},[t._v(" 来源期刊:《"+t._s(this.journal)+"》 ")]),e("div",{staticClass:"unit-keywords"},[e("span",[t._v("关键词:")]),t._v(" "),t._l(this.paperData._source.keywords,(function(s,a){return e("span",{key:a},[t._v(" "+t._s(s.keyword)+" "),a<t.paperData._source.keywords.length-1?e("span"):t._e()])}))],2)])])])},r=[],n={name:"ExploreUnit",props:{paperData:{}},data(){return{id:"",isOverflow:!0,journal:"unknown",abstract:"unknown"}},methods:{gotoArticle(){this.$router.push("/article/"+btoa(encodeURIComponent(JSON.stringify(this.paperData._id))))}},created(){console.log(this.paperData),this.paperData._source.primary_location&&(this.journal=this.paperData._source.primary_location.source.display_name),this.paperData._source.abstract_inverted_index&&(this.abstract=this.paperData._source.abstract_inverted_index)}},c=n,h=s(1001),d=(0,h.Z)(c,l,r,!1,null,"be1a976c",null),u=d.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"scholar-unit"},[e("div",{staticClass:"inner-container"},[e("div",{staticClass:"left"},[e("el-avatar",{staticClass:"avatar",attrs:{size:55,src:"../assets/photo.png"}}),e("div",{staticClass:"left-inner"},[e("h3",[t._v(t._s(this.authorData._source.display_name))]),e("span",[t._v(t._s(t.institute))]),e("i",{staticClass:"el-icon-document"},[t._v(t._s(this.authorData._source.works_count))]),e("i",{staticClass:"el-icon-collection"},[t._v(t._s(this.authorData._source.cited_by_count))])])],1),e("div",{staticClass:"right"},[e("el-button",{staticClass:"right-button",on:{click:t.showDialog}},[t._v("详情")])],1)])])},g=[],_={data(){return{institute:"unknown"}},methods:{showDialog(){this.$emit("show-dialog")}},props:{authorData:{}},created(){console.log(this.authorData);const t=this.authorData._source.last_known_institution;void 0!==t&&(this.institute=t.display_name)}},m=_,v=(0,h.Z)(m,p,g,!1,null,"2e1c16e3",null),f=v.exports,k={props:[],data(){return{isExpanded:!1,isExpanded0:!1,languageMap:{en:"英文",hu:"匈牙利文",pt:"葡萄牙文","zh-cn":"简体中文",nl:"荷兰语",no:"挪威语",so:"伊那里萨摩斯语",it:"意大利文",tl:"他加禄语",ro:"罗马尼亚文",ca:"加泰罗尼亚文",sk:"斯洛伐克文",de:"德文",es:"西班牙文",cs:"捷克文",tr:"土耳其文",pl:"波兰文",ab:"阿布哈兹语",af:"南非荷兰语",ak:"阿坎语",am:"阿姆哈拉语",an:"阿拉贡语",ar:"阿拉伯语",as:"阿萨姆语",av:"阿瓦尔语",ay:"艾马拉语",az:"阿塞拜疆语",ba:"巴什基尔语",be:"白俄罗斯语",bg:"保加利亚语",bh:"比哈尔语",bi:"比斯拉马语",bm:"班巴拉语",bn:"孟加拉语",bo:"藏语",br:"布列塔尼语",bs:"波斯尼亚语",ce:"车臣语",ch:"查莫罗语",co:"科西嘉语",cr:"克里语",cu:"教会斯拉夫语",cv:"楚瓦什语",cy:"威尔士语",da:"丹麦语",dv:"迪维希语",dz:"宗卡语",ee:"埃维语",el:"现代希腊语",eo:"世界语",et:"爱沙尼亚语",eu:"巴斯克语",fa:"波斯语",ff:"富拉语",fi:"芬兰语",fj:"斐济语",fo:"法罗语",fr:"法语",fy:"西弗里斯兰语",ga:"爱尔兰语",gd:"苏格兰盖尔语",gl:"加利西亚语",gn:"瓜拉尼语",gu:"古吉拉特语",gv:"马恩岛语",ha:"豪萨语",he:"希伯来语",hi:"印地语",ho:"希里莫图语",hr:"克罗地亚语",ht:"海地克里奥尔语",hy:"亚美尼亚语",hz:"赫雷罗语",ia:"国际语",id:"印度尼西亚语",ie:"国际语E",ig:"伊博语",ii:"四川彝语",ik:"伊努庇克语",io:"伊多语",is:"冰岛语",iu:"因纽特语",ja:"日语",jv:"爪哇语",ka:"格鲁吉亚语",kg:"刚果语",ki:"基库尤语",kj:"宽亚玛语",kk:"哈萨克语",kl:"格陵兰语",km:"高棉语",kn:"卡纳达语",ko:"韩语",kr:"卡努里语",ks:"克什米尔语",ku:"库尔德语",kv:"科米语",kw:"康沃尔语",ky:"吉尔吉斯语",la:"拉丁语",lb:"卢森堡语",lg:"干达语",li:"林堡语",ln:"林加拉语",lo:"老挝语",lt:"立陶宛语",lu:"卢巴-加丹加语",lv:"拉脱维亚语",mg:"马达加斯加语",mh:"马绍尔语",mi:"毛利语",mk:"马其顿语",ml:"马拉雅拉姆语",mn:"蒙古语",mr:"马拉地语",ms:"马来语",mt:"马耳他语",my:"缅甸语",na:"瑙鲁语",nb:"挪威博克马尔语",nd:"北恩德贝莱语",ne:"尼泊尔语",ng:"恩敦加语",nn:"挪威尼努斯克语",nr:"南恩德贝莱语",nv:"纳瓦霍语",ny:"尼扬贾语",oc:"奥克西唐语",oj:"奥吉布瓦语",om:"奥罗莫语",or:"奥里亚语",os:"奥塞提语",pa:"旁遮普语",pi:"巴利语",ps:"普什图语",qu:"盖丘亚语",rm:"罗曼什语",rn:"基隆迪语",ru:"俄语",rw:"卢旺达语",sa:"梵文",sc:"撒丁语",sd:"信德语",se:"北萨米语",sg:"桑戈语",si:"僧伽罗语",sk:"斯洛伐克语",sl:"斯洛文尼亚语",sm:"萨摩亚语",sn:"修纳语",so:"索马里语",sq:"阿尔巴尼亚语",sr:"塞尔维亚语",ss:"斯瓦特语",st:"南索托语",su:"巽他语",sv:"瑞典语",sw:"斯瓦希里语",ta:"泰米尔语",te:"泰卢固语",tg:"塔吉克语",th:"泰语",ti:"提格里尼亚语",tk:"土库曼语",tn:"茨瓦纳语",to:"汤加语",tr:"土耳其语",ts:"聪加语",tt:"鞑靼语",tw:"奇威语",ty:"塔希提语",ug:"维吾尔语",uk:"乌克兰语",ur:"乌尔都语",uz:"乌兹别克语",ve:"文达语",vi:"越南语",vo:"沃拉普克语",wa:"瓦隆语",wo:"沃洛夫语",xh:"科萨语",yi:"意第绪语",yo:"约鲁巴语",za:"壮语",zh:"中文",zu:"祖鲁语"},pageIdx:1,size:10,searchBarFixed:!1,select:"1",queue:[{value:1,label:"按匹配程度递减"},{value:3,label:"按被引用量递减"},{value:4,label:"按被引用量递增"},{value:5,label:"按发表时间递减"},{value:6,label:"按发表时间递增"}],sorter:1,minYear:1900,maxYear:2023,year:[1900,2023],bcd:[],checkFieldList:[],allFieldList:[],checkLanguageList:[],allLanguagesList:[],total_hits:100,total_hits_str:"100",aggregation:{doctype:[{"论文":50},{"报告":30},{"专利":20}],journal:[{name:"Journal A",count:10},{name:"Journal B",count:20}],conference:[{name:"Conference X",count:15},{name:"Conference Y",count:25}],publisher:[{"Publisher 1":40},{"Publisher 2":60}]},articles:[],isWork:!1,isExact:"",ConIdx:"1",MenuIdx:"1",counts:6,begin:0,begin0:0,end0:4,end:7,isShowDialog:!1,form:{personalPhoto:null,personalName:"",personalDescri:""},searchField:{search_field:"",search_content:"",sort_by:"",sort_order:""},authorDatas:[],paperDatas:[],paperDatas_to:[],loading:!1}},computed:{},methods:{handleScroll(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=2*document.querySelector("#chooseBar").offsetTop;this.searchBarFixed=t>e;var s=document.querySelector(".content-select-result #sideBars").offsetTop+document.getElementById("sideBars").offsetHeight;t>s&&(this.searchBarFixed=!1)},makeSure(){this.selectSearch()},cancel(){this.checkFieldList=[],this.checkLanguageList=[]},handleSizeChange(t){this.size=t,this.selectSearch()},handleCurrentChange(t){this.pageIdx=t,this.selectSearch()},changeYear(){this.selectSearch()},selectSearch(){if(this.year[0]<0||this.year[1]<0||this.year[0]>this.year[1]||this.year[0]>2023||this.year[1]>2023)return void this.$message.error("请输入合理的年份范围！");let t=this.paperDatas.filter((t=>{let e=null!==t._source.language&&this.checkLanguageList.includes(t._source.language),s=parseInt(t._source.publication_date.substring(0,4)),a=s>=this.year[0]&&s<=this.year[1],i=t._source.concepts&&t._source.concepts.some((t=>this.checkFieldList.includes(t.display_name)));return e&&a&&i}));console.log(t),this.paperDatas_to=t},updateTime(t){this.minYear=t.min_year,this.maxYear=t.max_year,this.year[0]=this.minYear,this.year[1]=this.maxYear},fieldCounts(){return this.allFieldList.reduce(((t,e)=>(t[e]=(t[e]||0)+1,t)),{})},showDialog(t){console.log(t._id),this.isShowDialog=!0,console.log(this.isShowDialog),this.$router.push("/scholar/"+btoa(encodeURIComponent(t._id)))},submitApply(){console.log(this.form),this.isShowDialog=!1},test(){console.log("test")},onChange(){console.log("New picture selected!"),this.$refs.pictureInput.image?(console.log("Picture loaded."),console.log(this.$refs.pictureInput.image)):console.log("FileReader API not supported: use the <form>, Luke!")},handleSetImage(t){console.log(t)},load(){this.loading=!0,setTimeout((()=>{this.isWork?this.end0+=2:this.end+=5,this.loading=!1}),1500)}},destroyed(){window.removeEventListener("scroll",this.handleScroll)},filters:{ellipsis:function(t){return t?t.length>400?t.slice(0,400)+"...":t:""},ellipsis_25:function(t){return t?t.length>25?t.slice(0,25)+"...":t:""}},watch:{aggregation:{deep:!0,handler:function(t){this.updateTime(t)}}},computed:{languageCounts(){return this.allLanguagesList.reduce(((t,e)=>(t[e]=(t[e]||0)+1,t)),{})},filteredFieldCounts(){const t=this.fieldCounts(),e={};for(const s in t)t[s]>=20&&(e[s]=t[s]);return e}},mounted(){},created(){console.log(JSON.parse(decodeURIComponent(atob(this.$route.params.data))));const t=JSON.parse(decodeURIComponent(atob(this.$route.params.data)));t.search_list?(this.isWork=!0,console.log("prosearch"),(0,o.HK)(t).then((t=>{console.log(t),this.paperDatas_to=t.data.hits,this.paperDatas=this.paperDatas_to,console.log(this.paperDatas);const e=new Set;this.paperDatas.forEach((t=>{t._source&&t._source.language&&e.add(t._source.language)})),this.checkLanguageList=Array.from(e),console.log(this.checkLanguageList),this.allLanguagesList=this.paperDatas.map((t=>t._source?.language)).filter((t=>void 0!==t)),console.log(this.allLanguagesList);const s=new Set;this.paperDatas.forEach((t=>{t._source&&t._source.concepts&&t._source.concepts.forEach((t=>{t.display_name&&s.add(t.display_name),this.allFieldList.push(t.display_name)}))})),this.checkFieldList=Array.from(s),console.log(this.checkFieldList),this.allFieldList=this.allFieldList.filter((t=>void 0!==t)),console.log(this.allFieldList)}))):(this.searchField.search_field=t.search_field,this.searchField.sort_order=t.sort_order,this.searchField.sort_by=t.sort_by,this.searchField.search_content=t.search_content,this.isExact=t.sort_type,console.log(this.searchField),"display_name"===this.searchField.search_field?(this.isWork=!1,"exact"===this.isExact?(0,o.eQ)(this.searchField).then((t=>{this.authorDatas=t.data.hits,console.log(this.authorDatas)})):(0,o.q3)(this.searchField).then((t=>{this.authorDatas=t.data.hits}))):(this.isWork=!0,"exact"===this.isExact?(0,o.jQ)(this.searchField).then((t=>{console.log(t),this.paperDatas_to=t.data.hits,this.paperDatas=this.paperDatas_to,console.log(this.paperDatas);const e=new Set;this.paperDatas.forEach((t=>{t._source&&t._source.language&&e.add(t._source.language)})),this.checkLanguageList=Array.from(e),console.log(this.checkLanguageList),this.allLanguagesList=this.paperDatas.map((t=>t._source?.language)).filter((t=>void 0!==t)),console.log(this.allLanguagesList);const s=new Set;this.paperDatas.forEach((t=>{t._source&&t._source.concepts&&t._source.concepts.forEach((t=>{t.display_name&&s.add(t.display_name),this.allFieldList.push(t.display_name)}))})),this.checkFieldList=Array.from(s),console.log(this.checkFieldList),this.allFieldList=this.allFieldList.filter((t=>void 0!==t)),console.log(this.allFieldList)})):(0,o.$x)(this.searchField).then((t=>{console.log(t),this.paperDatas_to=t.data.hits,this.paperDatas=this.paperDatas_to,console.log(this.paperDatas);const e=new Set;this.paperDatas.forEach((t=>{t._source&&t._source.language&&e.add(t._source.language)})),this.checkLanguageList=Array.from(e),console.log(this.checkLanguageList),this.allLanguagesList=this.paperDatas.map((t=>t._source?.language)).filter((t=>void 0!==t)),console.log(this.allLanguagesList);const s=new Set;this.paperDatas.forEach((t=>{t._source&&t._source.concepts&&t._source.concepts.forEach((t=>{t.display_name&&s.add(t.display_name),this.allFieldList.push(t.display_name)}))})),this.checkFieldList=Array.from(s),console.log(this.checkFieldList),this.allFieldList=this.allFieldList.filter((t=>void 0!==t)),console.log(this.allFieldList)}))))},components:{ExploreUnit:u,ScholarUnit:f}},y=k,x=(0,h.Z)(y,a,i,!1,null,"5479d6be",null),b=x.exports}}]);
//# sourceMappingURL=556.47075326.js.map