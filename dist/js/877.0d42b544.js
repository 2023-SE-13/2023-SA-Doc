"use strict";(self["webpackChunkscholarhub"]=self["webpackChunkscholarhub"]||[]).push([[877],{3877:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"main"},[t("div",{staticClass:"register"},[t("span",{staticClass:"title"},[e._v(" ScholorHub注册 ")]),t("el-form",{ref:"registerForm",staticClass:"form",attrs:{model:e.registerForm}},[t("el-form-item",{attrs:{prop:"username"}},[t("div",{staticStyle:{width:"20%"}},[t("span",{staticClass:"smallword"},[e._v("账号")])]),t("el-input",{staticStyle:{width:"65%"},attrs:{type:"text",autocomplete:"off","prefix-icon":"el-icon-user",placeholder:"用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("div",{staticStyle:{width:"20%"}},[t("span",{staticClass:"smallword"},[e._v("密码")])]),t("el-input",{staticStyle:{width:"65%"},attrs:{type:"password","show-password":"",autocomplete:"off","prefix-icon":"el-icon-lock",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("div",{staticStyle:{width:"20%"}},[t("span",{staticClass:"smallword"},[e._v("确认密码")])]),t("el-input",{staticStyle:{width:"65%"},attrs:{type:"password","show-password":"",autocomplete:"off","prefix-icon":"el-icon-lock",placeholder:"请再次输入密码"},model:{value:e.registerForm.password2,callback:function(t){e.$set(e.registerForm,"password2",t)},expression:"registerForm.password2"}})],1),t("el-form-item",{attrs:{prop:"email"}},[t("div",{staticStyle:{width:"20%"}},[t("span",{staticClass:"smallword"},[e._v("邮箱")])]),t("el-input",{staticStyle:{width:"65%"},attrs:{type:"text",autocomplete:"off","prefix-icon":"el-icon-message",placeholder:"请输入邮箱"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),t("el-form-item",{attrs:{prop:"code"}},[t("div",{staticStyle:{width:"20%"}},[t("span",{staticClass:"smallword"},[e._v("验证码")])]),t("el-input",{staticStyle:{width:"45%","margin-right":"5px"},attrs:{type:"text",autocomplete:"off",placeholder:"请输入验证码"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}}),t("el-button",{attrs:{id:"Code",loading:this.loading},on:{click:function(t){return e.send()}}},[e._v("发送验证码")])],1),t("div",{staticClass:"navigation"},[t("a",{staticStyle:{"background-color":"white",color:"black",width:"25%","font-size":"15px"},on:{click:function(t){return e.toLogin()}}},[e._v("返回登录")]),t("span",[e._v(" | ")]),t("a",{staticStyle:{"background-color":"white",color:"black",width:"25%","font-size":"15px","text-decoration":"none"},attrs:{href:"/"}},[e._v("返回首页")])]),t("el-form-item",[t("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(t){return e.register()}}},[e._v("注册")])],1)],1)],1)])])},i=[],o=(r(560),r(8898)),a={data(){return{timer:null,loading:!1,registerForm:{username:"",password:"",password2:"",email:"",code:""}}},methods:{send(){let e=new FormData;if("undefined"!=typeof this.registerForm.email&&null!=this.registerForm.email&&""!==this.registerForm.email)if("undefined"!=typeof this.registerForm.username&&null!=this.registerForm.username&&""!==this.registerForm.username){e.append("email",this.registerForm.email),e.append("username",this.registerForm.username),(0,o.ZY)(e).then((e=>{0===e.data.result?this.$notify({title:"提示",message:"验证码已发送",type:"success"}):this.$notify({title:"警告",message:e.data.report,type:"warning"})})),this.loading=!0;var t=60;this.timer=setInterval((()=>{t>0&&(t--,document.getElementById("Code").innerText=t+"秒后重发")}),1e3),clearInterval(timer),document.getElementById("Code").innerText="发送验证码",this.loading=!1}else this.$notify({title:"警告",message:"用户名不能为空",type:"warning"});else this.$notify({title:"警告",message:"邮箱不能为空",type:"warning"})},register(){if("undefined"==typeof this.registerForm.username||null==this.registerForm.username||""===this.registerForm.username)return void this.$notify({title:"警告",message:"用户名不能为空",type:"warning"});if("undefined"==typeof this.registerForm.password||null==this.registerForm.password||""===this.registerForm.password)return void this.$notify({title:"警告",message:"密码不能为空",type:"warning"});if(this.registerForm.password!==this.registerForm.password2)return void this.$notify({title:"警告",message:"两次密码不一致",type:"warning"});if("undefined"==typeof this.registerForm.email||null==this.registerForm.email||""===this.registerForm.email)return void this.$notify({title:"警告",message:"邮箱不能为空",type:"warning"});if("undefined"==typeof this.registerForm.code||null==this.registerForm.code||""===this.registerForm.code)return void this.$notify({title:"警告",message:"验证码不能为空",type:"warning"});let e=new FormData;e.append("username",this.registerForm.username),e.append("password",this.registerForm.password),e.append("email",this.registerForm.email),e.append("code",this.registerForm.code),(0,o.aX)(e).then((e=>{0===e.data.result?(clearInterval(this.timer),this.$router.push("/login")):this.$notify({title:"警告",message:e.data.message,type:"warning"})}))},toLogin(){this.$router.push("/login")}}},n=a,l=r(1001),m=(0,l.Z)(n,s,i,!1,null,"0aab5122",null),d=m.exports}}]);
//# sourceMappingURL=877.0d42b544.js.map